<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUCT Reporting System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .login-container { max-width: 400px; margin: 100px auto; padding: 20px; }
        .dashboard { display: none; }
        .module-section { display: none; }
        .active-module { display: block; }
        .nav-link { cursor: pointer; }
    </style>
</head>
<body class="bg-light">
    <!-- Login Section -->
    <div id="loginSection" class="container">
        <div class="login-container card shadow">
            <div class="card-body">
                <h3 class="text-center mb-4">Access LUCT Reporting System</h3>
                <form id="loginForm">
                    <div class="mb-3">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary w-100">Sign In</button>
                </form>
                <div class="text-center mt-3">
                    <a href="#" onclick="showRegister()">Don't have an account? Register here</a>
                </div>
                <div class="mt-3 p-3 bg-light rounded">
                    <h6>Demo Accounts:</h6>
                    <small>Student: student@luct.com / password</small><br>
                    <small>Lecturer: lecturer@luct.com / password</small><br>
                    <small>Program Leader: leader@luct.com / password</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Registration Section -->
    <div id="registerSection" class="container" style="display: none;">
        <div class="login-container card shadow">
            <div class="card-body">
                <h3 class="text-center mb-4">Create Your Account</h3>
                <form id="registerForm">
                    <div class="mb-3">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="fullName" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" id="regEmail" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="regPassword" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">I am a</label>
                        <select class="form-select" id="userType" required>
                            <option value="">Select Role</option>
                            <option value="student">Student</option>
                            <option value="lecturer">Lecturer</option>
                            <option value="principal">Principal Lecturer</option>
                            <option value="leader">Program Leader</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-success w-100">Create Account</button>
                </form>
                <div class="text-center mt-3">
                    <a href="#" onclick="showLogin()">Already have an account? Sign in</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="dashboard">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <span class="navbar-brand">LUCT Reporting System</span>
                <div class="navbar-nav ms-auto">
                    <span class="navbar-text me-3" id="userWelcome"></span>
                    <button class="btn btn-outline-light btn-sm" onclick="logout()">Logout</button>
                </div>
            </div>
        </nav>

        <div class="container-fluid mt-3">
            <div class="row">
                <!-- Sidebar -->
                <div class="col-md-3">
                    <div class="card">
                        <div class="card-header">Navigation</div>
                        <div class="card-body">
                            <nav class="nav flex-column" id="navMenu">
                                <!-- Menu items will be populated based on user role -->
                            </nav>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="col-md-9">
                    <!-- Student Modules -->
                    <div id="studentModules" class="module-section">
                        <div class="card">
                            <div class="card-header">
                                <h5>Student Dashboard</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h6>Monitoring</h6>
                                                <p>View class attendance and reports</p>
                                                <button class="btn btn-primary" onclick="loadReports()">View Reports</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-body">
                                                <h6>Rating</h6>
                                                <p>Rate lectures and provide feedback</p>
                                                <button class="btn btn-warning" onclick="showRating()">Rate Lectures</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lecturer Modules -->
                    <div id="lecturerModules" class="module-section">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Lecturer Dashboard</h5>
                                <button class="btn btn-success" onclick="showReportForm()">+ New Report</button>
                            </div>
                            <div class="card-body">
                                <!-- Report Form -->
                                <div id="reportForm" style="display: none;">
                                    <h6>Lecturer Reporting Form</h6>
                                    <form id="lectureReportForm">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Faculty Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Class Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Week of Reporting</label>
                                                    <input type="week" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Date of Lecture</label>
                                                    <input type="date" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Course Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="mb-3">
                                                    <label class="form-label">Course Code</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Lecturer's Name</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Actual Students Present</label>
                                                    <input type="number" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Total Registered Students</label>
                                                    <input type="number" class="form-control" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Venue</label>
                                                    <input type="text" class="form-control" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Scheduled Lecture Time</label>
                                            <input type="text" class="form-control" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Topic Taught</label>
                                            <textarea class="form-control" rows="2" required></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Learning Outcomes</label>
                                            <textarea class="form-control" rows="2" required></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Lecturer's Recommendations</label>
                                            <textarea class="form-control" rows="2" required></textarea>
                                        </div>
                                        <button type="submit" class="btn btn-primary">Submit Report</button>
                                        <button type="button" class="btn btn-secondary" onclick="hideReportForm()">Cancel</button>
                                    </form>
                                    <hr>
                                </div>

                                <!-- Lecturer Modules -->
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Classes</h6>
                                                <button class="btn btn-outline-primary" onclick="showModule('classes')">View</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Reports</h6>
                                                <button class="btn btn-outline-info" onclick="showModule('reports')">View</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Monitoring</h6>
                                                <button class="btn btn-outline-warning" onclick="showModule('monitoring')">View</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Rating</h6>
                                                <button class="btn btn-outline-success" onclick="showModule('rating')">View</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Program Leader Modules -->
                    <div id="leaderModules" class="module-section">
                        <div class="card">
                            <div class="card-header">
                                <h5>Program Leader Dashboard</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Courses</h6>
                                                <p>Add & assign lecture modules</p>
                                                <button class="btn btn-primary" onclick="manageCourses()">Manage</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Reports</h6>
                                                <p>View reports from PRL</p>
                                                <button class="btn btn-info" onclick="viewReports()">View</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card">
                                            <div class="card-body text-center">
                                                <h6>Lectures</h6>
                                                <p>Manage lecture assignments</p>
                                                <button class="btn btn-warning" onclick="manageLectures()">Manage</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Demo users database
        const users = [
            { email: 'student@luct.com', password: 'password', role: 'student', name: 'Demo Student' },
            { email: 'lecturer@luct.com', password: 'password', role: 'lecturer', name: 'Demo Lecturer' },
            { email: 'leader@luct.com', password: 'password', role: 'leader', name: 'Demo Program Leader' }
        ];

        let currentUser = null;

        // Login functionality
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                showDashboard();
            } else {
                alert('Login failed. Please try again.');
            }
        });

        // Registration functionality
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('fullName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const role = document.getElementById('userType').value;
            
            // Check if email already exists
            if (users.find(u => u.email === email)) {
                alert('Registration failed. Try a different email.');
                return;
            }
            
            users.push({ email, password, role, name });
            alert('Registration successful! Please login.');
            showLogin();
        });

        function showLogin() {
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('registerSection').style.display = 'none';
        }

        function showRegister() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('registerSection').style.display = 'block';
        }

        function showDashboard() {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('registerSection').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            
            document.getElementById('userWelcome').textContent = `Welcome, ${currentUser.name}`;
            setupNavigation();
            showUserModules();
        }

        function setupNavigation() {
            const navMenu = document.getElementById('navMenu');
            navMenu.innerHTML = '';
            
            const menus = {
                student: [
                    { id: 'monitoring', name: 'Monitoring' },
                    { id: 'rating', name: 'Rating' }
                ],
                lecturer: [
                    { id: 'classes', name: 'Classes' },
                    { id: 'reports', name: 'Reports' },
                    { id: 'monitoring', name: 'Monitoring' },
                    { id: 'rating', name: 'Rating' }
                ],
                leader: [
                    { id: 'courses', name: 'Courses' },
                    { id: 'reports', name: 'Reports' },
                    { id: 'monitoring', name: 'Monitoring' },
                    { id: 'classes', name: 'Classes' },
                    { id: 'lectures', name: 'Lectures' },
                    { id: 'rating', name: 'Rating' }
                ]
            };
            
            const userMenus = menus[currentUser.role] || [];
            userMenus.forEach(menu => {
                const link = document.createElement('a');
                link.className = 'nav-link';
                link.textContent = menu.name;
                link.onclick = () => showModule(menu.id);
                navMenu.appendChild(link);
            });
        }

        function showUserModules() {
            // Hide all modules first
            document.querySelectorAll('.module-section').forEach(el => {
                el.style.display = 'none';
            });
            
            // Show appropriate module based on user role
            const moduleId = currentUser.role + 'Modules';
            document.getElementById(moduleId).style.display = 'block';
        }

        function showModule(module) {
            alert(`Showing ${module} module - This would load specific content in a real application`);
        }

        function showReportForm() {
            document.getElementById('reportForm').style.display = 'block';
        }

        function hideReportForm() {
            document.getElementById('reportForm').style.display = 'none';
        }

        function logout() {
            currentUser = null;
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
        }

        // Initialize
        showLogin();
    </script>
</body>
</html>